---
// src/pages/sklep/index.astro
import Layout from "../../layouts/Layout.astro";
import Navbar from "../../components/Navbar.astro";
import Footer from "../../components/Footer.astro";

const API_URL =
  "https://kiv8tougqc.execute-api.eu-central-1.amazonaws.com/prod";

const ebook = {
  id: "ebook-pisanie-pracy-licencjackiej",
  name: "Jak napisaÄ‡ pracÄ™ licencjackÄ…",
  subtitle: "Kompletny przewodnik od A do Z",
  price: 29,
  pages: "300",
  format: "PDF",
};

const chapters = [
  { title: "WybÃ³r tematu", desc: "Jak znaleÅºÄ‡ idealny temat i go zawÄ™ziÄ‡" },
  {
    title: "PrzeglÄ…d literatury",
    desc: "Gdzie szukaÄ‡ ÅºrÃ³deÅ‚ i jak je oceniaÄ‡",
  },
  {
    title: "Struktura pracy",
    desc: "WstÄ™p, rozdziaÅ‚y teoretyczne, zakoÅ„czenie",
  },
  { title: "Metodologia badaÅ„", desc: "Metody, techniki, narzÄ™dzia badawcze" },
  { title: "Cytaty i przypisy", desc: "System harwardzki i przypisy dolne" },
  { title: "Formatowanie", desc: "MS Word - spis treÅ›ci, numeracja, style" },
];

const features = [
  {
    icon: "ğŸ“–",
    title: "300 stron",
    desc: "Praktycznej wiedzy bez lania wody",
  },
  {
    icon: "âœ…",
    title: "Checklisty",
    desc: "Gotowe listy kontrolne przed oddaniem",
  },
  {
    icon: "ğŸ“",
    title: "Szablony",
    desc: "Strona tytuÅ‚owa, spis treÅ›ci, wzory zdaÅ„",
  },
  {
    icon: "ğŸ’¡",
    title: "PrzykÅ‚ady",
    desc: "Konkretne przykÅ‚ady z rÃ³Å¼nych kierunkÃ³w",
  },
];
---

<Layout
  title="Ebook: Jak napisaÄ‡ pracÄ™ licencjackÄ… - Poradnik PDF 300 stron"
  description="Kompletny przewodnik po pisaniu pracy licencjackiej. 300 stron praktycznej wiedzy, szablony, checklisty i przykÅ‚ady."
>
  <Navbar />

  <main class="min-h-screen">
    <!-- Hero Section -->
    <section
      class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white py-16 md:py-24"
    >
      <div class="max-w-6xl mx-auto px-4">
        <div class="grid md:grid-cols-2 gap-12 items-center">
          <!-- Left: Text -->
          <div>
            <div
              class="inline-block bg-accent/20 text-accent px-4 py-1 rounded-full text-sm font-medium mb-6"
            >
              ğŸ“š Ebook PDF
            </div>
            <h1
              class="text-4xl md:text-5xl font-bold mb-4 leading-tight text-white"
            >
              {ebook.name}
            </h1>
            <p class="text-xl text-slate-300 mb-6">
              {ebook.subtitle}
            </p>
            <p class="text-slate-400 mb-8 leading-relaxed">
              PrzestaÅ„ siÄ™ stresowaÄ‡ pisaniem pracy licencjackiej. Ten poradnik
              przeprowadzi CiÄ™ krok po kroku przez caÅ‚y proces â€” od wyboru
              tematu, przez metodologiÄ™ badaÅ„, aÅ¼ po ostatnie szlify przed
              oddaniem.
            </p>

            <!-- Price & CTA -->
            <div
              class="flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-8"
            >
              <div>
                <span class="text-4xl font-bold">{ebook.price} zÅ‚</span>
                <span class="text-slate-400 ml-2">jednorazowo</span>
              </div>
              <button
                id="buy-button-hero"
                class="buy-button bg-accent hover:bg-green-600 text-white font-semibold py-4 px-8 rounded-xl transition-all hover:scale-105 flex items-center gap-2 shadow-lg shadow-accent/25"
                data-product-id={ebook.id}
              >
                <span>Kup teraz</span>
                <svg
                  class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
              </button>
            </div>

            <!-- Quick info -->
            <div class="flex flex-wrap gap-6 text-sm text-slate-400">
              <div class="flex items-center gap-2">
                <svg
                  class="w-5 h-5 text-accent"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                  ></path>
                </svg>
                <span>{ebook.pages} stron</span>
              </div>
              <div class="flex items-center gap-2">
                <svg
                  class="w-5 h-5 text-accent"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"
                  ></path>
                </svg>
                <span>Format {ebook.format}</span>
              </div>
              <div class="flex items-center gap-2">
                <svg
                  class="w-5 h-5 text-accent"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span>DostÄ™p natychmiast</span>
              </div>
            </div>
          </div>

          <!-- Right: Book mockup -->
          <div class="relative">
            <div
              class="bg-gradient-to-br from-primary-500 to-accent rounded-2xl p-8 shadow-2xl transform md:rotate-3 hover:rotate-0 transition-transform"
            >
              <div class="bg-white rounded-lg p-6 shadow-inner">
                <div class="text-center">
                  <div class="text-6xl mb-4">ğŸ“˜</div>
                  <h3 class="text-xl font-bold text-slate-800 mb-2">
                    {ebook.name}
                  </h3>
                  <p class="text-slate-500 text-sm">{ebook.subtitle}</p>
                  <div class="mt-4 pt-4 border-t border-slate-200">
                    <p class="text-xs text-slate-400">Smart-Edu â€¢ 2025</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- Decorative elements -->
            <div
              class="absolute -top-4 -right-4 w-24 h-24 bg-accent/20 rounded-full blur-2xl"
            >
            </div>
            <div
              class="absolute -bottom-4 -left-4 w-32 h-32 bg-primary-500/20 rounded-full blur-2xl"
            >
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Problem Section -->
    <section class="py-16 bg-slate-50">
      <div class="max-w-4xl mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold text-slate-900 mb-6">
          Czy to brzmi znajomo?
        </h2>
        <div class="grid md:grid-cols-2 gap-6 text-left">
          <div
            class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-red-400"
          >
            <p class="text-slate-700">
              "Nie wiem od czego zaczÄ…Ä‡ â€” mam pustkÄ™ w gÅ‚owie"
            </p>
          </div>
          <div
            class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-red-400"
          >
            <p class="text-slate-700">
              "Temat jest za szeroki, nie wiem jak go zawÄ™ziÄ‡"
            </p>
          </div>
          <div
            class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-red-400"
          >
            <p class="text-slate-700">
              "Nie rozumiem rÃ³Å¼nicy miÄ™dzy przypisami a bibliografiÄ…"
            </p>
          </div>
          <div
            class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-red-400"
          >
            <p class="text-slate-700">
              "Promotor kaÅ¼e poprawiaÄ‡, ale nie wiem co jest Åºle"
            </p>
          </div>
        </div>
        <p class="mt-8 text-lg text-slate-600">
          Ten ebook rozwiÄ…zuje wszystkie te problemy. <strong
            >Krok po kroku.</strong
          >
        </p>
      </div>
    </section>

    <!-- Features -->
    <section class="py-16 bg-white">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-slate-900 mb-12">
          Co znajdziesz w Å›rodku?
        </h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
          {
            features.map((feature) => (
              <div class="text-center p-6">
                <div class="text-5xl mb-4">{feature.icon}</div>
                <h3 class="text-xl font-bold text-slate-900 mb-2">
                  {feature.title}
                </h3>
                <p class="text-slate-600">{feature.desc}</p>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Table of Contents -->
    <section class="py-16 bg-slate-50">
      <div class="max-w-4xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-slate-900 mb-4">
          Spis treÅ›ci
        </h2>
        <p class="text-center text-slate-600 mb-12">
          18 rozdziaÅ‚Ã³w + dodatki z szablonami
        </p>

        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
          <div class="divide-y divide-slate-100">
            <div class="p-6 bg-slate-800">
              <span class="text-sm font-medium text-slate-300">CZÄ˜ÅšÄ† I</span>
              <h3 class="text-lg font-bold text-white">
                Zanim zaczniesz pisaÄ‡
              </h3>
            </div>
            {
              chapters.slice(0, 3).map((ch, i) => (
                <div class="p-6 flex items-start gap-4 hover:bg-slate-50 transition-colors">
                  <span class="flex-shrink-0 w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center font-bold text-sm">
                    {i + 1}
                  </span>
                  <div>
                    <h4 class="font-semibold text-slate-900">{ch.title}</h4>
                    <p class="text-sm text-slate-500">{ch.desc}</p>
                  </div>
                </div>
              ))
            }

            <div class="p-6 bg-slate-800">
              <span class="text-sm font-medium text-slate-300">CZÄ˜ÅšÄ† II</span>
              <h3 class="text-lg font-bold text-white">Struktura i badania</h3>
            </div>
            {
              chapters.slice(3).map((ch, i) => (
                <div class="p-6 flex items-start gap-4 hover:bg-slate-50 transition-colors">
                  <span class="flex-shrink-0 w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center font-bold text-sm">
                    {i + 4}
                  </span>
                  <div>
                    <h4 class="font-semibold text-slate-900">{ch.title}</h4>
                    <p class="text-sm text-slate-500">{ch.desc}</p>
                  </div>
                </div>
              ))
            }

            <div class="p-6 bg-slate-100 text-center">
              <p class="text-slate-600">
                <strong>+ 12 kolejnych rozdziaÅ‚Ã³w</strong> o pisaniu, redakcji, obronie
                i wiÄ™cej...
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonial / Social proof -->
    <section class="py-16 bg-white">
      <div class="max-w-4xl mx-auto px-4 text-center">
        <div
          class="bg-gradient-to-br from-primary-50 to-accent/10 rounded-2xl p-8 md:p-12"
        >
          <div class="text-5xl mb-6">ğŸ’¬</div>
          <blockquote class="text-xl md:text-2xl text-slate-700 mb-6 italic">
            "Gdybym miaÅ‚ ten poradnik na poczÄ…tku studiÃ³w, zaoszczÄ™dziÅ‚bym
            dziesiÄ…tki godzin bÅ‚Ä…dzenia po omacku. Wszystko wyjaÅ›nione
            konkretnie, bez akademickiego beÅ‚kotu."
          </blockquote>
          <p class="text-slate-500">â€” Student, ktÃ³ry obroniÅ‚ siÄ™ na 5</p>
        </div>
      </div>
    </section>

    <!-- Final CTA -->
    <section class="py-16 bg-slate-900">
      <div class="max-w-4xl mx-auto px-4 text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-6 text-white">
          PrzestaÅ„ siÄ™ stresowaÄ‡.<br />Zacznij pisaÄ‡.
        </h2>
        <p class="text-xl text-slate-300 mb-8">
          Jeden ebook. Wszystko, czego potrzebujesz, Å¼eby napisaÄ‡ pracÄ™
          licencjackÄ….
        </p>

        <div class="bg-slate-800 rounded-2xl p-8 max-w-md mx-auto">
          <div class="text-5xl font-bold mb-2 text-white">{ebook.price} zÅ‚</div>
          <p class="text-slate-400 mb-6">
            Jednorazowa pÅ‚atnoÅ›Ä‡ â€¢ DostÄ™p na zawsze
          </p>

          <button
            id="buy-button-bottom"
            class="buy-button w-full bg-accent hover:bg-green-600 text-white font-semibold py-4 px-8 rounded-xl transition-all hover:scale-105 flex items-center justify-center gap-2 shadow-lg shadow-accent/25"
            data-product-id={ebook.id}
          >
            <span>KupujÄ™ ebook</span>
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </button>

          <div class="mt-6 flex justify-center gap-6 text-sm text-slate-400">
            <span class="flex items-center gap-1">
              <svg
                class="w-4 h-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"></path>
              </svg>
              Bezpieczna pÅ‚atnoÅ›Ä‡
            </span>
            <span class="flex items-center gap-1">
              <svg
                class="w-4 h-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"></path>
              </svg>
              Natychmiastowy dostÄ™p
            </span>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="py-16 bg-slate-50">
      <div class="max-w-3xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-slate-900 mb-12">
          NajczÄ™stsze pytania
        </h2>

        <div class="space-y-4">
          <details class="bg-white rounded-xl p-6 shadow-sm group">
            <summary
              class="font-semibold text-slate-900 cursor-pointer flex justify-between items-center"
            >
              W jakim formacie jest ebook?
              <svg
                class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"></path>
              </svg>
            </summary>
            <p class="mt-4 text-slate-600">
              Ebook jest w formacie PDF. MoÅ¼esz go otworzyÄ‡ na komputerze,
              tablecie lub telefonie. DziaÅ‚a na kaÅ¼dym systemie.
            </p>
          </details>

          <details class="bg-white rounded-xl p-6 shadow-sm group">
            <summary
              class="font-semibold text-slate-900 cursor-pointer flex justify-between items-center"
            >
              Jak otrzymam ebook po zakupie?
              <svg
                class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"></path>
              </svg>
            </summary>
            <p class="mt-4 text-slate-600">
              Natychmiast po pÅ‚atnoÅ›ci otrzymasz email z linkiem do pobrania.
              Link jest waÅ¼ny 7 dni â€” po pobraniu ebook jest TwÃ³j na zawsze.
            </p>
          </details>

          <details class="bg-white rounded-xl p-6 shadow-sm group">
            <summary
              class="font-semibold text-slate-900 cursor-pointer flex justify-between items-center"
            >
              Czy ebook jest dla kaÅ¼dego kierunku?
              <svg
                class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"></path>
              </svg>
            </summary>
            <p class="mt-4 text-slate-600">
              Tak! Zasady pisania pracy licencjackiej sÄ… uniwersalne. Ebook
              zawiera przykÅ‚ady z rÃ³Å¼nych kierunkÃ³w: zarzÄ…dzania, pedagogiki,
              psychologii, prawa i innych.
            </p>
          </details>

          <details class="bg-white rounded-xl p-6 shadow-sm group">
            <summary
              class="font-semibold text-slate-900 cursor-pointer flex justify-between items-center"
            >
              A jeÅ›li link do pobrania wygaÅ›nie?
              <svg
                class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"></path>
              </svg>
            </summary>
            <p class="mt-4 text-slate-600">
              Napisz do nas na kontakt@praca-magisterska.pl â€” wyÅ›lemy nowy link.
              Bez problemu.
            </p>
          </details>

          <details class="bg-white rounded-xl p-6 shadow-sm group">
            <summary
              class="font-semibold text-slate-900 cursor-pointer flex justify-between items-center"
            >
              Jakie metody pÅ‚atnoÅ›ci akceptujecie?
              <svg
                class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"></path>
              </svg>
            </summary>
            <p class="mt-4 text-slate-600">
              Karty (Visa, Mastercard), BLIK oraz Przelewy24. PÅ‚atnoÅ›ci
              obsÅ‚uguje Stripe â€” jeden z najbezpieczniejszych systemÃ³w na
              Å›wiecie.
            </p>
          </details>
        </div>
      </div>
    </section>
  </main>

  <Footer />

  <!-- Loading overlay -->
  <div
    id="loading-overlay"
    class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden"
  >
    <div class="bg-white rounded-2xl p-8 text-center">
      <div
        class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"
      >
      </div>
      <p class="text-slate-700">PrzekierowujÄ™ do pÅ‚atnoÅ›ci...</p>
    </div>
  </div>

  <script define:vars={{ API_URL }}>
    document.addEventListener("DOMContentLoaded", () => {
      const buttons = document.querySelectorAll(".buy-button");
      const loadingOverlay = document.getElementById("loading-overlay");

      buttons.forEach((button) => {
        button.addEventListener("click", async () => {
          const productId = button.dataset.productId;

          loadingOverlay.classList.remove("hidden");
          button.disabled = true;

          try {
            const response = await fetch(`${API_URL}/create-checkout`, {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({ productId }),
            });

            const data = await response.json();

            if (data.url) {
              window.location.href = data.url;
            } else {
              throw new Error(data.error || "BÅ‚Ä…d podczas tworzenia pÅ‚atnoÅ›ci");
            }
          } catch (error) {
            console.error("Error:", error);
            loadingOverlay.classList.add("hidden");
            button.disabled = false;
            alert("WystÄ…piÅ‚ bÅ‚Ä…d. SprÃ³buj ponownie lub skontaktuj siÄ™ z nami.");
          }
        });
      });
    });
  </script>
</Layout>
